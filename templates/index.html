{% extends 'base.html' %}

{% block title %}MAGIK TIKET - сервис продажи билетов{% endblock %}

{% block content %}
    <!-- Hero Slider -->
    {% if slides %}
        <div class="container mt-3 mb-4">
            {% include 'includes/slider.html' %}
        </div>
    {% endif %}

    <!-- Categories Section -->
    <section class="categories-section">
        <div class="container">
            <h2 class="text-center mb-4">Категории мероприятий</h2>
            <div class="row">
                {% for category in categories %}
                    <div class="col-6 col-md-4 col-lg-2">
                        <a href="{{ url_for('main.category_events', category_id=category.id) }}" class="text-decoration-none">
                            <div class="category-card">
                                <div class="category-icon">
                                    <i class="fas {{ category.icon }}"></i>
                                </div>
                                <h5 class="category-title">{{ category.name }}</h5>
                            </div>
                        </a>
                    </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- Popular Events Section -->
    <section class="popular-events-section py-5 bg-light">
        <div class="container">
            <h2 class="mb-4">Популярные мероприятия</h2>
            <div class="row row-cols-2 row-cols-md-2 row-cols-lg-4 event-row">
                {% for event in popular_events %}
                    <div class="col">
                        {% include 'includes/event_card.html' %}
                    </div>
                {% else %}
                    <div class="col-12">
                        <div class="alert alert-info">
                            Пока нет популярных мероприятий.
                        </div>
                    </div>
                {% endfor %}
            </div>
            <div class="text-center mt-4">
                <a href="{{ url_for('main.events') }}" class="btn btn-outline-primary">Смотреть все мероприятия</a>
            </div>
        </div>
    </section>

    <!-- Upcoming Events Section -->
    <section class="upcoming-events-section py-5">
        <div class="container">
            <h2 class="mb-4">Ближайшие мероприятия</h2>
            <div class="row row-cols-2 row-cols-md-2 row-cols-lg-4 event-row">
                {% for event in upcoming_events %}
                    <div class="col">
                        {% include 'includes/event_card.html' %}
                    </div>
                {% else %}
                    <div class="col-12">
                        <div class="alert alert-info">
                            Нет предстоящих мероприятий.
                        </div>
                    </div>
                {% endfor %}
            </div>
            <div class="text-center mt-4">
                <a href="{{ url_for('main.events') }}" class="btn btn-outline-primary">Смотреть все мероприятия</a>
            </div>
        </div>
    </section>

    <!-- Venues Section -->
    <section class="venues-section py-5">
        <div class="container">
            <h2 class="mb-4">Популярные площадки</h2>
            <div class="row">
                {% for venue in venues %}
                    <div class="col-6 col-md-4 col-lg-3 mb-4">
                        <a href="{{ url_for('main.venue_detail', venue_id=venue.id) }}" class="text-decoration-none">
                            <div class="venue-card">
                                <div class="venue-logo-container">
                                    {% if venue.logo %}
                                        <img src="{{ venue.logo }}" alt="{{ venue.name }}" class="venue-logo">
                                    {% else %}
                                        <div class="venue-logo-placeholder">
                                            <i class="fas fa-map-marker-alt"></i>
                                        </div>
                                    {% endif %}
                                </div>
                                <h5 class="venue-name">{{ venue.name }}</h5>
                                <div class="venue-location">
                                    <small>{{ venue.city }}</small>
                                </div>
                            </div>
                        </a>
                    </div>
                {% else %}
                    <div class="col-12">
                        <div class="alert alert-info">
                            Пока нет доступных площадок.
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- Sell Your Ticket Banner -->
    <section class="sell-ticket-banner py-5 bg-light">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h2>Хотите продать свой билет?</h2>
                    <p class="lead">У вас изменились планы, и вы не можете посетить мероприятие? Разместите свой билет на нашей платформе и найдите покупателя быстро и безопасно.</p>
                </div>
                <div class="col-md-4 text-md-end mt-3 mt-md-0">
                    <a href="{{ url_for('main.sell_ticket') }}" class="btn btn-primary btn-lg">Продать билет</a>
                </div>
            </div>
        </div>
    </section>
{% endblock %}
